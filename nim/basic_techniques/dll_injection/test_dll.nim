# {.passL: "-s -static-libgcc".}

import winim/lean

proc NimMain() {.cdecl, importc.}

proc DllMain(hinstDLL: HINSTANCE, fdwReason: DWORD, lpvReserved: LPVOID): BOOL {.stdcall, exportc, dynlib.} =
    NimMain()

    if fdwReason == DLL_PROCESS_ATTACH:
        MessageBox(0, "Hello world", "Hello from nim", 0)
    
    return true
