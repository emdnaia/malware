 Templates

Useful templates for shellcode

## Template
```nim
import winim
import utils/[getmoduleh, getprocaddr, hash, str]

type ExitProcess = proc(uExitCode: UINT): void {.stdcall.}

proc main() =
  asm """
    and rsp, 0xfffffffffffffff0
    mov rbp, rsp
    sub rsp, 0x100        # allocate stack space arbitrary size, depends on payload
  """
  const hashExitProcess = hashStringDjb2A("ExitProcess".cstring)

  var 
    h: HMODULE = locateKernel32()
    pExitProcess = cast[ExitProcess](getProcAddressHash(h, hashExitProcess))
  pExitProcess(1)

when isMainModule:
  main()
```


### Strings
```nim
# manually define a string on the stack
var sKernel32: array[13, char] 
sKernel32[0] = 'K'
sKernel32[1] = 'E'
sKernel32[2] = 'R'
sKernel32[3] = 'N'
sKernel32[4] = 'E'
sKernel32[5] = 'L'
sKernel32[6] = '3'
sKernel32[7] = '2'
sKernel32[8] = '.'
sKernel32[9] = 'd'
sKernel32[10] = 'l'
sKernel32[11] = 'l'
sKernel32[12] = '\0'

# using stackStringA
var sKernel32 {.stackStringA.} = "KERNEL32.dll"
```

### Functions
##### ExitProcess

ExitProcess prevents shellcode from crashing after running, should be used for a clean exit

```nim
type ExitProcess = (proc(uExitCode: UINT) {.stdcall.})

var sExitProcess {.stackStringA.} = "ExitProcess"

var hKernel: HMODULE = locateKernel32()
var pExitProcess: ExitProcess = cast[ExitProcess](getProcAddress(hKernel, cast[cstring](addr sExitProcess[0])))

pExitProcess(0)

```